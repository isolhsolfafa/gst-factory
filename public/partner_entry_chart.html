
    <!DOCTYPE html>
    <html lang="ko">
    <head>
      <meta charset="UTF-8">
      <title>협력사 출입 대시보드</title>
      <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
      <style>
        .company-table { display: none; margin-top: 30px; }
        table { width: 100%; border-collapse: collapse; }
        th, td { border: 1px solid #ccc; padding: 8px; text-align: center; }
        th { background-color: #f0f0f0; }
      </style>
    </head>
    <body>
    <div id="bar-chart" style="width: 100%; height: 400px;"></div>
    
        <div id="BAT-table" class="company-table" style="display:none;">
            <h3>BAT 근무자 목록</h3>
            <table border="1" style="width:350px;"><tr><th>이름</th><th>근무시간</th></tr>
            <tr><td>간연웅</td><td>2025. 6. 3 오전 7:52:58 (퇴근 미체크)</td></tr><tr><td>배홍범</td><td>2025. 6. 3 오전 8:00:50 (퇴근 미체크)</td></tr><tr><td>윤청용</td><td>2025. 6. 3 오전 7:48:54 (퇴근 미체크)</td></tr><tr><td>정대한</td><td>2025. 6. 3 오전 7:56:00 (퇴근 미체크)</td></tr><tr><td>최진우</td><td>0시간 2분</td></tr><tr><td>허용길</td><td>2025. 6. 3 오전 7:49:57 (퇴근 미체크)</td></tr>
            </table>
        </div>
        
        <div id="C&A-table" class="company-table" style="display:none;">
            <h3>C&A 근무자 목록</h3>
            <table border="1" style="width:350px;"><tr><th>이름</th><th>근무시간</th></tr>
            <tr><td>윤문빈</td><td>2025. 6. 3 오전 7:48:01 (퇴근 미체크)</td></tr>
            </table>
        </div>
        
        <div id="FNI-table" class="company-table" style="display:none;">
            <h3>FNI 근무자 목록</h3>
            <table border="1" style="width:350px;"><tr><th>이름</th><th>근무시간</th></tr>
            <tr><td>박천일</td><td>2025. 6. 3 오전 7:48:28 (퇴근 미체크)</td></tr><tr><td>오동혁</td><td>2025. 6. 3 오전 8:02:14 (퇴근 미체크)</td></tr><tr><td>이영식</td><td>2025. 6. 3 오전 7:47:08 (퇴근 미체크)</td></tr><tr><td>허문용</td><td>2025. 6. 3 오전 8:03:44 (퇴근 미체크)</td></tr><tr><td>홍용천</td><td>2025. 6. 3 오전 7:44:45 (퇴근 미체크)</td></tr>
            </table>
        </div>
        
        <div id="NONE-table" class="company-table" style="display:none;">
            <h3>NONE 근무자 목록</h3>
            <table border="1" style="width:350px;"><tr><th>이름</th><th>근무시간</th></tr>
            <tr><td>이엉자</td><td>2025. 6. 3 오전 7:48:58 (퇴근 미체크)</td></tr>
            </table>
        </div>
        
        <div id="P&S-table" class="company-table" style="display:none;">
            <h3>P&S 근무자 목록</h3>
            <table border="1" style="width:350px;"><tr><th>이름</th><th>근무시간</th></tr>
            <tr><td>김홍매</td><td>2025. 6. 3 오전 8:19:30 (퇴근 미체크)</td></tr><tr><td>이옥매</td><td>2025. 6. 3 오전 7:58:28 (퇴근 미체크)</td></tr><tr><td>이운</td><td>2025. 6. 3 오전 8:19:19 (퇴근 미체크)</td></tr><tr><td>조홍연</td><td>2025. 6. 3 오전 7:58:44 (퇴근 미체크)</td></tr><tr><td>주용범</td><td>2025. 6. 3 오전 8:19:14 (퇴근 미체크)</td></tr>
            </table>
        </div>
        
        <div id="TMS(M)-table" class="company-table" style="display:none;">
            <h3>TMS(M) 근무자 목록</h3>
            <table border="1" style="width:350px;"><tr><th>이름</th><th>근무시간</th></tr>
            <tr><td>이선만</td><td>2025. 6. 3 오전 7:57:28 (퇴근 미체크)</td></tr>
            </table>
        </div>
        
    <script>
      var data = [{
        x: ['BAT', 'FNI', 'P&S', 'C&A', 'NONE', 'TMS(M)'],
        y: [6, 5, 5, 1, 1, 1],
        type: 'bar',
        text: [6, 5, 5, 1, 1, 1],
        textposition: 'inside',
        marker: {color: ['#1f77b4', '#2ca02c', '#9467bd', '#ff7f0e', '#d62728', '#8c564b']},
        hovertext: ['퇴근 미체크: 간연웅, 배홍범, 윤청용, 정대한, 허용길', '퇴근 미체크: 박천일, 오동혁, 이영식, 허문용, 홍용천', '퇴근 미체크: 김홍매, 이옥매, 이운, 조홍연, 주용범', '퇴근 미체크: 윤문빈', '퇴근 미체크: 이엉자', '퇴근 미체크: 이선만'],
        hoverinfo: 'text',
        customdata: ['BAT', 'FNI', 'P&S', 'C&A', 'NONE', 'TMS(M)']
      }];
      var layout = {
        title: '🏭협력사별 출입 인원 수',
        hovermode: 'closest'
      };
      var config = {
        displayModeBar: false,
        scrollZoom: false,
        staticPlot: false
      };
      Plotly.newPlot('bar-chart', data, layout, config);

      var lastOpened = null;
      document.getElementById('bar-chart').on('plotly_click', function(data) {
        var company = data.points[0].customdata;
        var target = document.getElementById(company + "-table");
        if (lastOpened === company) {
          target.style.display = "none";
          lastOpened = null;
        } else {
          document.querySelectorAll(".company-table").forEach(div => div.style.display = "none");
          target.style.display = "block";
          target.scrollIntoView({ behavior: "smooth" });
          lastOpened = company;
        }
      });
    </script>
    </body>
    </html>
    